<div class="row">
  <div class="col-sm-offset-4 col-sm-4">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h4>编辑个人信息</h4>
      </div>
      <div class="panel-body">

        <%= form_for current_user, html: {role: 'form'} do |f| %>
            <%= render 'shared/error_messages', :object => current_user %>

            <%= content_tag :div, class: "form-group#{' has-error' if current_user.errors[:name].present?}" do %>
                <div class="input-group">
                  <div class="input-group-addon"><span class="glyphicon glyphicon-user"></span></div>
                  <%= f.text_field :name, class: 'form-control' %>
                </div>
            <% end %>

            <%= content_tag :div, class: "form-group#{' has-error' if current_user.errors[:email].present?}" do %>
                <div class="input-group">
                  <div class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></div>
                  <%= f.text_field :email, class: 'form-control' %>
                </div>
            <% end %>

            <%= content_tag :div, class: "form-group#{' has-error' if current_user.errors[:company].present?}" do %>
                <div class="input-group">
                  <div class="input-group-addon"><span class="glyphicon glyphicon-home"></span></div>
                  <%= f.text_field :department, class: 'form-control' %>
                </div>
            <% end %>

            <%= content_tag :div, class: "form-group#{' has-error' if current_user.errors[:password].present?}" do %>
                <div class="input-group">
                  <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
                  <%= f.password_field :password, class: 'form-control', placeholder: "输入新密码" %>
                </div>
            <% end %>

            <%= content_tag :div, class: "form-group#{' has-error' if current_user.errors[:password_confirmation].present?}" do %>
                <div class="input-group">
                  <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
                  <%= f.password_field :password_confirmation, class: 'form-control', placeholder: "再次输入密码" %>
                </div>
            <% end %>

            <%= f.submit '更新', class: "btn btn-primary btn-block" %>
            <%= link_to '取消', root_path, :class => "btn btn-default btn-block" %>

            <br>

        <% end %>
      </div>
    </div>
  </div>
</div>
